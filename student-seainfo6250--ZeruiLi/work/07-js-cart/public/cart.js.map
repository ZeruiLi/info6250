{"version":3,"file":"cart.js","mappings":";;;;;;;;;;;;;;;AAAY;;AACgB;AAE5B,IAAMC,UAAU,GAAGC,QAAQ,CAACC,aAAa,CAAC,WAAW,CAAC;AACtD,IAAMC,MAAM,GAAGF,QAAQ,CAACC,aAAa,CAAC,WAAW,CAAC;AAElD,SAASE,MAAMA,CAAA,EAAG;EACjB,IAAIL,8CAAK,CAACM,QAAQ,EAAE;IACnBC,UAAU,CAACH,MAAM,CAAC;EACnB,CAAC,MAAM;IACNI,eAAe,CAACJ,MAAM,CAAC;EACxB;EACAK,cAAc,CAACR,UAAU,CAAC;AAC3B;AAEA,SAASM,UAAUA,CAACH,MAAM,EAAE;EACxB,IAAMM,UAAU,GAAGV,8CAAK,CAACW,aAAa,CAAC,CAAC;EAC3C,IAAMC,YAAY,GAAGF,UAAU,GAAGG,WAAW,CAAC,CAAC,+BAA+B;EAC9ET,MAAM,CAACU,SAAS,6BAAAC,MAAA,CAA6BH,YAAY,CAAE;AAC5D;AAEA,SAASJ,eAAeA,CAACJ,MAAM,EAAE;EAChCA,MAAM,CAACU,SAAS,GAAG,EAAE;AACtB;AAEA,SAASL,cAAcA,CAACR,UAAU,EAAE;EAChC,IAAMe,WAAW,GAAGC,cAAc,CAAC,CAAC;EACpC,IAAMC,WAAW,GAAGC,kBAAkB,CAAC,CAAC;EAC3C,IAAMC,YAAY,6BAAAL,MAAA,CAA2BC,WAAW,YAAAD,MAAA,CAASG,WAAW,CAAE;EAC9EjB,UAAU,CAACa,SAAS,GAAGM,YAAY;AACpC;AAEA,SAASH,cAAcA,CAAA,EAAG;EACtB,IAAMI,QAAQ,GAAGrB,8CAAK,CAACsB,QAAQ,CAACC,GAAG,CAAC,UAACC,OAAO,EAAEC,KAAK,EAAK;IACpD,wGAAAV,MAAA,CAE+CU,KAAK,SAAAV,MAAA,CAAKS,OAAO,CAACE,IAAI,8DAAAX,MAAA,CAC7BS,OAAO,CAACG,GAAG,+DAAAZ,MAAA,CACRS,OAAO,CAACI,KAAK,mEAAAb,MAAA,CAElCU,KAAK;EAK/B,CAAC,CAAC,CAACI,IAAI,CAAC,EAAE,CAAC;EAEX,OAAOR,QAAQ;AACnB;AAEA,SAASF,kBAAkBA,CAAA,EAAG;EAC1B,IAAMT,UAAU,GAAGV,8CAAK,CAACW,aAAa,CAAC,CAAC;EACxC,IAAMmB,YAAY,GAAGpB,UAAU,iBAAAK,MAAA,CAAiBL,UAAU,SAAM,WAAW;EAC3E,IAAMqB,OAAO,GAAG/B,8CAAK,CAACM,QAAQ,GAAG,WAAW,GAAGwB,YAAY;EAE3D,2DAAAf,MAAA,CACyCgB,OAAO;AACpD;AAEA,SAASlB,WAAWA,CAAA,EAAG;EACnB,IAAImB,QAAQ,GAAGhC,8CAAK,CAACsB,QAAQ,CAC9BC,GAAG,CAAC,UAACC,OAAO,EAAEC,KAAK,EAAK;IACxB,IAAMQ,WAAW,GAAGT,OAAO,CAACU,KAAK,GAAG,SAAS,GAAG,aAAa;IAC7D,6CAAAnB,MAAA,CAC+BkB,WAAW,oEAAAlB,MAAA,CACWU,KAAK,+BAAAV,MAAA,CACvCS,OAAO,CAACE,IAAI,mFAAAX,MAAA,CAEcS,OAAO,CAACG,GAAG,iIAAAZ,MAAA,CAGrBU,KAAK,oKAAAV,MAAA,CAGQS,OAAO,CAACU,KAAK,sFAAAnB,MAAA,CAE1BU,KAAK,yKAAAV,MAAA,CAIVf,8CAAK,CAACmC,eAAe,CAACV,KAAK,CAAC;EAG3D,CAAC,CAAC,CACDI,IAAI,CAAC,EAAE,CAAC;EAEPG,QAAQ,0BAAAjB,MAAA,CAAwBiB,QAAQ,UAAO;EAC/C,IAAMI,cAAc,uBAAArB,MAAA,CAAuBf,8CAAK,CAACqC,aAAa,CAAC,CAAC,SAAM;EACtE,IAAMC,WAAW,iEAA6D;EAC9EN,QAAQ,IAAII,cAAc;EAC1BJ,QAAQ,IAAIM,WAAW;EAEvB,OAAON,QAAQ;AACnB;AAEA,iEAAe3B,MAAM;;;;;;;;;;;;;;AC/FT;;AACZ,IAAML,KAAK,GAAG;EAEVsB,QAAQ,EAAE,CACN;IACII,IAAI,EAAE,OAAO;IACbC,GAAG,EAAE,wCAAwC;IAC7CC,KAAK,EAAE,IAAI;IACXM,KAAK,EAAE;EACX,CAAC,EAED;IACIR,IAAI,EAAE,SAAS;IACfC,GAAG,EAAE,wCAAwC;IAC7CC,KAAK,EAAE,IAAI;IACXM,KAAK,EAAE;EACX,CAAC,EACD;IACIR,IAAI,EAAE,OAAO;IACbC,GAAG,EAAE,wCAAwC;IAC7CC,KAAK,EAAE,IAAI;IACXM,KAAK,EAAE;EACX,CAAC,CACJ;EAEL5B,QAAQ,EAAE,KAAK;EAEfK,aAAa,EAAE,SAAAA,cAAA,EAAY;IACvB,IAAID,UAAU,GAAG,CAAC;IAClBV,KAAK,CAACsB,QAAQ,CAACiB,OAAO,CAAC,UAACf,OAAO,EAAK;MAChCd,UAAU,IAAIc,OAAO,CAACU,KAAK;IAC/B,CAAC,CAAC;IACF,OAAOxB,UAAU;EACrB,CAAC;EAEDyB,eAAe,EAAE,SAAAA,gBAAUV,KAAK,EAAE;IAC9B,OAAO,CAACzB,KAAK,CAACsB,QAAQ,CAACG,KAAK,CAAC,CAACS,KAAK,GAAGlC,KAAK,CAACsB,QAAQ,CAACG,KAAK,CAAC,CAACG,KAAK,EAAEY,OAAO,CAAC,CAAC,CAAC;EACjF,CAAC;EAEDH,aAAa,EAAE,SAAAA,cAAA,EAAY;IACvB,IAAII,UAAU,GAAG,CAAC;IAClBzC,KAAK,CAACsB,QAAQ,CAACiB,OAAO,CAAC,UAACf,OAAO,EAAK;MAChCiB,UAAU,IAAIjB,OAAO,CAACU,KAAK,GAAGV,OAAO,CAACI,KAAK;IAC/C,CAAC,CAAC;IACF,OAAOa,UAAU,CAACD,OAAO,CAAC,CAAC,CAAC;EAChC;AACA,CAAC;AAED,iEAAexC,KAAK;;;;;;UChDpB;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;;;;;;;;;ACNY;;AACgB;AACE;AAE9B,IAAM0C,KAAK,GAAGxC,QAAQ,CAACC,aAAa,CAAC,MAAM,CAAC;AAE5C,SAASwC,kBAAkBA,CAAClB,KAAK,EAAEmB,KAAK,EAAE;EACtC,IAAMC,QAAQ,GAAG7C,8CAAK,CAACsB,QAAQ,CAACG,KAAK,CAAC,CAACS,KAAK,GAAGU,KAAK;EACpD5C,8CAAK,CAACsB,QAAQ,CAACG,KAAK,CAAC,CAACS,KAAK,GAAGY,IAAI,CAACC,GAAG,CAAC,CAAC,EAAEF,QAAQ,CAAC;AACvD;AAEAH,KAAK,CAACM,gBAAgB,CAAC,OAAO,EAAE,UAACC,CAAC,EAAK;EACnC,IAAIC,YAAY,GAAG,KAAK;EAExB,IAAID,CAAC,CAACE,MAAM,CAACC,SAAS,CAACC,QAAQ,CAAC,UAAU,CAAC,EAAE;IACzCrD,8CAAK,CAACM,QAAQ,GAAG,CAACN,8CAAK,CAACM,QAAQ;IAChC4C,YAAY,GAAG,IAAI;EACvB,CAAC,MAAM,IAAID,CAAC,CAACE,MAAM,CAACC,SAAS,CAACC,QAAQ,CAAC,SAAS,CAAC,IAAIJ,CAAC,CAACE,MAAM,CAACC,SAAS,CAACC,QAAQ,CAAC,YAAY,CAAC,EAAE;IAC5FV,kBAAkB,CAACM,CAAC,CAACE,MAAM,CAACG,OAAO,CAAC7B,KAAK,EAAE,CAAC,CAAC;IAC7CyB,YAAY,GAAG,IAAI;EACvB,CAAC,MAAM,IAAID,CAAC,CAACE,MAAM,CAACC,SAAS,CAACC,QAAQ,CAAC,eAAe,CAAC,EAAE;IACrDV,kBAAkB,CAACM,CAAC,CAACE,MAAM,CAACG,OAAO,CAAC7B,KAAK,EAAE,CAAC,CAAC,CAAC;IAC9CyB,YAAY,GAAG,IAAI;EACvB,CAAC,MAAM,IAAID,CAAC,CAACE,MAAM,CAACC,SAAS,CAACC,QAAQ,CAAC,UAAU,CAAC,EAAE;IAChDrD,8CAAK,CAACsB,QAAQ,CAACiB,OAAO,CAAC,UAAAf,OAAO;MAAA,OAAIA,OAAO,CAACU,KAAK,GAAG,CAAC;IAAA,EAAC;IACpDgB,YAAY,GAAG,IAAI;EACvB;EAEA,IAAIA,YAAY,EAAE;IACd7C,mDAAM,CAAC,CAAC;EACZ;AACJ,CAAC,CAAC;AAEFA,mDAAM,CAAC,CAAC,C","sources":["webpack://07-js-cart/./src/render.js","webpack://07-js-cart/./src/state.js","webpack://07-js-cart/webpack/bootstrap","webpack://07-js-cart/webpack/runtime/define property getters","webpack://07-js-cart/webpack/runtime/hasOwnProperty shorthand","webpack://07-js-cart/webpack/runtime/make namespace object","webpack://07-js-cart/./src/cart.js"],"sourcesContent":["\"use strict\"\nimport state from \"./state\";\n\nconst productsEl = document.querySelector(\".products\");\nconst cartEl = document.querySelector(\".cartlist\");\n\nfunction render() {\n\tif (state.viewCart) {\n\t\trenderCart(cartEl);\n\t} else {\n\t\trenderEmptyCart(cartEl);\n\t}\n\trenderProducts(productsEl);\n}\n\nfunction renderCart(cartEl) {\n    const totalCount = state.getTotalCount()\n\tconst cartListHtml = totalCount ? getCartHtml() : `<p>Nothing in the cart</p>`\n\tcartEl.innerHTML = `<h2>Shopping Cart</h2> ${cartListHtml}`;\n}\n\nfunction renderEmptyCart(cartEl) {\n\tcartEl.innerHTML = \"\";\n}\n\nfunction renderProducts(productsEl) {\n    const listingHtml = getListingHtml()\n    const viewCartBtn = getViewCartBtnHtml()\n\tconst productsHtml = `<ul class=\"listings\">${listingHtml}</ul> ${viewCartBtn}`;\n\tproductsEl.innerHTML = productsHtml;\n}\n\nfunction getListingHtml() {\n    const listings = state.products.map((product, index) => {\n        return `\n            <li class=\"product\">\n                <h3 class=\"product-name\" data-index=\"${index}\">${product.name}</h3>\n                <img class=\"product-img\" src=\"${product.img}\"/>\n                <p class=\"product-price\">Price: $${product.price}</p>\n                <button \n                data-index=\"${index}\" class=\"addCart\" type=\"button\">\n                Add to cart\n                </button>\n            </li>\n        `\n    }).join(\"\");\n\n    return listings;\n}\n\nfunction getViewCartBtnHtml() {\n    const totalCount = state.getTotalCount()\n    const viewCartText = totalCount ? `View Cart (${totalCount})` : \"View Cart\"\n    const btnText = state.viewCart ? \"Hide Cart\" : viewCartText\n\n    return `\n    <button type=\"button\" class=\"cartView\">${btnText}</button> `\n}\n\nfunction getCartHtml() {\n    let cartHtml = state.products\n\t\t.map((product, index) => {\n\t\t\tconst inCartClass = product.count ? \"in-cart\" : \"not-in-cart\";\n\t\t\treturn `\n                <li class=\"cart ${inCartClass}\">\n                    <h4 class=\"cart-name\" data-index=\"${index}\">\n                    ${product.name}\n                    </h4>\n                    <img class=\"cart-img\" src=${product.img}>\n                    <div class=\"count-group\">\n                        <button \n                        data-index=\"${index}\" class=\"removeProduct\" type=\"button\">\n                        -\n                        </button>\n                        <span class=\"cart-count\">${product.count}</span>\n                        <button \n                        data-index=\"${index}\" class=\"addProduct\" type=\"button\">\n                        +\n                        </button>\n                    </div>\n                    <p>Price: $${state.getProductPrice(index)}</p>\n                </li>\n        `;\n\t\t})\n\t\t.join(\"\");\n\n    cartHtml = `<ul class=\"carts\">${cartHtml}</ul>`\n    const totalPriceHtml = `<p>Total Price: $${state.getTotalPrice()}</p>`\n    const checkoutBtn = `<button type=\"button\" class=\"checkOut\">Checkout</button>`\n    cartHtml += totalPriceHtml\n    cartHtml += checkoutBtn\n\n    return cartHtml\n}\n\nexport default render;","\"use strict\"\nconst state = {\n\n    products: [\n        {\n            name: 'Frank',\n            img: 'http://placekitten.com/150/150?image=1',\n            price: 0.99,\n            count: 0,\n        },\n\n        {\n            name: 'ZeruiLi',\n            img: 'http://placekitten.com/150/150?image=2',\n            price: 3.14,\n            count: 0,\n        },\n        {\n            name: 'Brett',\n            img: 'http://placekitten.com/150/150?image=3',\n            price: 2.73,\n            count: 0,\n        }\n    ],    \n\nviewCart: false,\n\ngetTotalCount: function () {\n    let totalCount = 0;\n    state.products.forEach((product) => {\n        totalCount += product.count;\n    });\n    return totalCount;\n},\n\ngetProductPrice: function (index) {\n    return (state.products[index].count * state.products[index].price).toFixed(2);\n},\n\ngetTotalPrice: function () {\n    let totalPrice = 0;\n    state.products.forEach((product) => {\n        totalPrice += product.count * product.price;\n    });\n    return totalPrice.toFixed(2);\n},\n};\n\nexport default state;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","\"use strict\"\nimport state from \"./state\";\nimport render from \"./render\";\n\nconst appEl = document.querySelector(\"#app\");\n\nfunction updateProductCount(index, delta) {\n    const newCount = state.products[index].count + delta;\n    state.products[index].count = Math.max(0, newCount); \n}\n\nappEl.addEventListener(\"click\", (e) => {\n    let shouldRender = false;\n\n    if (e.target.classList.contains(\"cartView\")) {\n        state.viewCart = !state.viewCart;\n        shouldRender = true;\n    } else if (e.target.classList.contains(\"addCart\") || e.target.classList.contains(\"addProduct\")) {\n        updateProductCount(e.target.dataset.index, 1);\n        shouldRender = true;\n    } else if (e.target.classList.contains(\"removeProduct\")) {\n        updateProductCount(e.target.dataset.index, -1);\n        shouldRender = true;\n    } else if (e.target.classList.contains(\"checkOut\")) {\n        state.products.forEach(product => product.count = 0);\n        shouldRender = true;\n    }\n\n    if (shouldRender) {\n        render();\n    }\n});\n\nrender();\n"],"names":["state","productsEl","document","querySelector","cartEl","render","viewCart","renderCart","renderEmptyCart","renderProducts","totalCount","getTotalCount","cartListHtml","getCartHtml","innerHTML","concat","listingHtml","getListingHtml","viewCartBtn","getViewCartBtnHtml","productsHtml","listings","products","map","product","index","name","img","price","join","viewCartText","btnText","cartHtml","inCartClass","count","getProductPrice","totalPriceHtml","getTotalPrice","checkoutBtn","forEach","toFixed","totalPrice","appEl","updateProductCount","delta","newCount","Math","max","addEventListener","e","shouldRender","target","classList","contains","dataset"],"sourceRoot":""}